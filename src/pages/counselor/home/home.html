<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Dashboard</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col text-center>
        <div class="blockquote" [title]="quote?.name">{{quote?.quote}}</div>
      </ion-col>
    </ion-row>
    <ion-row>
      <!-- Left column for inquiries -->
      <ion-col col-6>
        <ion-item-group>
          <ion-item-divider color="primary">Inquiries<span (click)="createInq()" float-right><ion-icon name="add-circle"></ion-icon></span></ion-item-divider>
          <ion-item-group>
            <ion-item-divider class="secondary-header">Unattended Inquiries</ion-item-divider>
            <ion-item *ngFor = "let inq of unattendedInq; let i = index;">
              <ion-grid>
                <ion-row><ion-col col-1 (click)="viewInq(inq.id)">{{inq.id}}</ion-col><ion-col (click)="viewInq(inq.id)">{{inq.name}}</ion-col><ion-col>{{inq.areaOfInterest}}</ion-col><ion-col>{{inq.inquiryDate | date: "dd/MM/yyyy"}}</ion-col></ion-row>
              </ion-grid>
            </ion-item>
          </ion-item-group>
        </ion-item-group>
      </ion-col>  
      <!-- Right column for stats and reminders -->
      <ion-col col-6>
        <!-- Stats row -->
        <ion-row>
          <ion-col class="no-padding">
            <ion-item-divider color="primary">Statistics</ion-item-divider>
            <ion-item-group>
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col align-self-center>Inquiries Today:</ion-col>
                    <ion-col text-right class="inq-stats">{{inqStats?.dailyCount}}</ion-col>
                    <div class="divider"></div>
                    <ion-col align-self-center>Inquiries This Week:</ion-col>
                    <ion-col text-right class="inq-stats">{{inqStats?.weekCount}}</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
            <ion-item-group>
              <ion-item-divider class="secondary-header">{{ today | date : "MMMM"}} Summary</ion-item-divider>
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col align-self-center>Total Inquiries:</ion-col>
                    <ion-col>{{inqStats?.monthCount}}</ion-col>
                    <ion-col align-self-center>Hot Leads:</ion-col>
                    <ion-col>{{inqStats?.hotLeadCount}}</ion-col>
                    <ion-col align-self-center>Conversions:</ion-col>
                    <ion-col>{{inqStats?.enrolledCount}}</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
          </ion-col>
        </ion-row>
        <!-- Reminders row -->
        <ion-row>
          <ion-col class="no-padding">
            <ion-item-group>
              <ion-item-divider color="primary">Todo<span (click)="showAddReminderModal()" float-right><ion-icon name="add-circle"></ion-icon></span></ion-item-divider>
              <ion-item-group>
                <ion-item *ngFor="let todo of todos; let i = index;">
                  <ion-grid>
                    <ion-row><ion-col col-1 (click)="showViewReminderModal(todo)">{{i+1}}.</ion-col><ion-col (click)="showViewReminderModal(todo)">{{todo.title}}</ion-col><ion-col text-right>{{todo.time | date:"dd/MM/yyyy @ hh:mm a"}}</ion-col></ion-row>
                  </ion-grid>
                </ion-item>
              </ion-item-group>
            </ion-item-group>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
